{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rhychaw/projects/oa/web-app/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport function formatRuntime(milliseconds: number): string {\n  if (milliseconds < 1000) {\n    return `${milliseconds}ms`;\n  }\n  return `${(milliseconds / 1000).toFixed(2)}s`;\n}\n\nexport function formatMemory(bytes: number): string {\n  if (bytes < 1024) {\n    return `${bytes}B`;\n  }\n  if (bytes < 1024 * 1024) {\n    return `${(bytes / 1024).toFixed(1)}KB`;\n  }\n  return `${(bytes / (1024 * 1024)).toFixed(1)}MB`;\n}\n\nexport function getDifficultyColor(difficulty: string): string {\n  switch (difficulty) {\n    case 'easy':\n      return 'text-green-600 bg-green-50 border-green-200';\n    case 'medium':\n      return 'text-yellow-600 bg-yellow-50 border-yellow-200';\n    case 'hard':\n      return 'text-red-600 bg-red-50 border-red-200';\n    default:\n      return 'text-gray-600 bg-gray-50 border-gray-200';\n  }\n}\n\nexport function getDifficultyLabel(difficulty: string): string {\n  switch (difficulty) {\n    case 'easy':\n      return 'Easy';\n    case 'medium':\n      return 'Medium';\n    case 'hard':\n      return 'Hard';\n    default:\n      return 'Unknown';\n  }\n}\n\nexport function sanitizeCodeForAI(code: string): string {\n  // Remove comments, extra whitespace, and potentially sensitive patterns\n  return code\n    .replace(/\\/\\*[\\s\\S]*?\\*\\//g, '') // Remove block comments\n    .replace(/\\/\\/.*$/gm, '') // Remove line comments\n    .replace(/\\s+/g, ' ') // Normalize whitespace\n    .trim();\n}\n\nexport function detectCodeViolation(content: string): {\n  hasViolation: boolean;\n  reason?: string;\n  maskedContent?: string;\n} {\n  // Heuristics to detect full code solutions\n  const codeBlocks = content.match(/```[\\s\\S]*?```/g) || [];\n  \n  // Check for long contiguous code blocks\n  for (const block of codeBlocks) {\n    const blockLines = block.split('\\n').length;\n    if (blockLines > 20) {\n      return {\n        hasViolation: true,\n        reason: 'Long code block detected',\n        maskedContent: content.replace(block, '```\\n[Full solution withheld by policy]\\n```')\n      };\n    }\n  }\n  \n  // Check for multiple function/class definitions\n  const functionCount = (content.match(/function\\s+\\w+|class\\s+\\w+|const\\s+\\w+\\s*=\\s*\\(/g) || []).length;\n  if (functionCount > 3) {\n    return {\n      hasViolation: true,\n      reason: 'Multiple function definitions detected',\n      maskedContent: content.replace(/```[\\s\\S]*?```/g, '```\\n[Full solution withheld by policy]\\n```')\n    };\n  }\n  \n  // Check for complete solution patterns\n  const hasMainFunction = /int\\s+main\\s*\\(|def\\s+main\\s*\\(|function\\s+main\\s*\\(/.test(content);\n  const hasReturnStatement = /return\\s+/.test(content);\n  const hasPrintOutput = /console\\.log|print\\s*\\(|System\\.out\\.print/.test(content);\n  \n  if (hasMainFunction && hasReturnStatement && hasPrintOutput) {\n    return {\n      hasViolation: true,\n      reason: 'Complete solution pattern detected',\n      maskedContent: content.replace(/```[\\s\\S]*?```/g, '```\\n[Full solution withheld by policy]\\n```')\n    };\n  }\n  \n  return { hasViolation: false };\n}\n\nexport function generateProblemSlug(title: string): string {\n  return title\n    .toLowerCase()\n    .replace(/[^a-z0-9\\s-]/g, '')\n    .replace(/\\s+/g, '-')\n    .replace(/-+/g, '-')\n    .trim();\n}\n\nexport function formatDate(date: string | Date): string {\n  const d = new Date(date);\n  return d.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n}\n\nexport function debounce<T extends (...args: unknown[]) => unknown>(\n  func: T,\n  wait: number\n): (...args: Parameters<T>) => void {\n  let timeout: NodeJS.Timeout;\n  return (...args: Parameters<T>) => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func(...args), wait);\n  };\n}\n\nexport function throttle<T extends (...args: unknown[]) => unknown>(\n  func: T,\n  limit: number\n): (...args: Parameters<T>) => void {\n  let inThrottle: boolean;\n  return (...args: Parameters<T>) => {\n    if (!inThrottle) {\n      func(...args);\n      inThrottle = true;\n      setTimeout(() => (inThrottle = false), limit);\n    }\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///Users/rhychaw/projects/oa/web-app/src/components/ui/problem-card.tsx"],"sourcesContent":["import Link from 'next/link';\nimport { cn, getDifficultyColor, getDifficultyLabel } from '../../lib/utils';\nimport type { Problem } from '../../types';\n\ninterface ProblemCardProps {\n  problem: Problem;\n  className?: string;\n}\n\nexport function ProblemCard({ problem, className }: ProblemCardProps) {\n  const difficultyColor = getDifficultyColor(problem.difficulty);\n  const difficultyLabel = getDifficultyLabel(problem.difficulty);\n  \n  return (\n    <Link\n      href={`/problems/${problem.slug}`}\n      className={cn(\n        \"block p-6 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200\",\n        className\n      )}\n    >\n      <div className=\"flex items-start justify-between mb-3\">\n        <h3 className=\"text-lg font-semibold text-slate-900 line-clamp-2\">\n          {problem.title}\n        </h3>\n        <div className=\"flex items-center gap-2 ml-4\">\n          <span className=\"text-sm font-medium text-slate-600\">\n            {problem.points} pts\n          </span>\n          <span\n            className={cn(\n              \"px-2 py-1 text-xs font-medium rounded-full border\",\n              difficultyColor\n            )}\n          >\n            {difficultyLabel}\n          </span>\n        </div>\n      </div>\n      \n      <p className=\"text-slate-700 text-sm mb-4 line-clamp-3\">\n        {problem.description.replace(/<[^>]*>/g, '').substring(0, 150)}...\n      </p>\n      \n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex flex-wrap gap-1\">\n          {problem.tags.slice(0, 3).map((tag) => (\n            <span\n              key={tag}\n              className=\"px-2 py-1 text-xs bg-gray-100 text-slate-700 rounded-md\"\n            >\n              {tag}\n            </span>\n          ))}\n          {problem.tags.length > 3 && (\n            <span className=\"px-2 py-1 text-xs text-slate-600\">\n              +{problem.tags.length - 3} more\n            </span>\n          )}\n        </div>\n        \n        {problem.timeLimit && (\n          <span className=\"text-xs text-slate-600\">\n            {problem.timeLimit}s limit\n          </span>\n        )}\n      </div>\n    </Link>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAQO,SAAS,YAAY,EAAE,OAAO,EAAE,SAAS,EAAoB;IAClE,MAAM,kBAAkB,IAAA,6JAAkB,EAAC,QAAQ,UAAU;IAC7D,MAAM,kBAAkB,IAAA,6JAAkB,EAAC,QAAQ,UAAU;IAE7D,qBACE,oPAAC,6KAAI;QACH,MAAM,CAAC,UAAU,EAAE,QAAQ,IAAI,EAAE;QACjC,WAAW,IAAA,6IAAE,EACX,iHACA;;0BAGF,oPAAC;gBAAI,WAAU;;kCACb,oPAAC;wBAAG,WAAU;kCACX,QAAQ,KAAK;;;;;;kCAEhB,oPAAC;wBAAI,WAAU;;0CACb,oPAAC;gCAAK,WAAU;;oCACb,QAAQ,MAAM;oCAAC;;;;;;;0CAElB,oPAAC;gCACC,WAAW,IAAA,6IAAE,EACX,qDACA;0CAGD;;;;;;;;;;;;;;;;;;0BAKP,oPAAC;gBAAE,WAAU;;oBACV,QAAQ,WAAW,CAAC,OAAO,CAAC,YAAY,IAAI,SAAS,CAAC,GAAG;oBAAK;;;;;;;0BAGjE,oPAAC;gBAAI,WAAU;;kCACb,oPAAC;wBAAI,WAAU;;4BACZ,QAAQ,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,oBAC7B,oPAAC;oCAEC,WAAU;8CAET;mCAHI;;;;;4BAMR,QAAQ,IAAI,CAAC,MAAM,GAAG,mBACrB,oPAAC;gCAAK,WAAU;;oCAAmC;oCAC/C,QAAQ,IAAI,CAAC,MAAM,GAAG;oCAAE;;;;;;;;;;;;;oBAK/B,QAAQ,SAAS,kBAChB,oPAAC;wBAAK,WAAU;;4BACb,QAAQ,SAAS;4BAAC;;;;;;;;;;;;;;;;;;;AAM/B","debugId":null}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":["file:///Users/rhychaw/projects/oa/web-app/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"../../lib/utils\";\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"default\" | \"destructive\" | \"outline\" | \"secondary\" | \"ghost\" | \"link\";\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\";\n  loading?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = \"default\", size = \"default\", loading, children, disabled, ...props }, ref) => {\n    const baseClasses = \"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\";\n    \n    const variants = {\n      default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n      destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n      outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n      secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n      ghost: \"hover:bg-accent hover:text-accent-foreground\",\n      link: \"text-primary underline-offset-4 hover:underline\",\n    };\n    \n    const sizes = {\n      default: \"h-10 px-4 py-2\",\n      sm: \"h-9 rounded-md px-3\",\n      lg: \"h-11 rounded-md px-8\",\n      icon: \"h-10 w-10\",\n    };\n    \n    return (\n      <button\n        className={cn(\n          baseClasses,\n          variants[variant],\n          sizes[size],\n          className\n        )}\n        ref={ref}\n        disabled={disabled || loading}\n        {...props}\n      >\n        {loading && (\n          <svg\n            className=\"mr-2 h-4 w-4 animate-spin\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n          >\n            <circle\n              className=\"opacity-25\"\n              cx=\"12\"\n              cy=\"12\"\n              r=\"10\"\n              stroke=\"currentColor\"\n              strokeWidth=\"4\"\n            />\n            <path\n              className=\"opacity-75\"\n              fill=\"currentColor\"\n              d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            />\n          </svg>\n        )}\n        {children}\n      </button>\n    );\n  }\n);\nButton.displayName = \"Button\";\n\nexport { Button };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AASA,MAAM,uBAAS,yNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAC5F,MAAM,cAAc;IAEpB,MAAM,WAAW;QACf,SAAS;QACT,aAAa;QACb,SAAS;QACT,WAAW;QACX,OAAO;QACP,MAAM;IACR;IAEA,MAAM,QAAQ;QACZ,SAAS;QACT,IAAI;QACJ,IAAI;QACJ,MAAM;IACR;IAEA,qBACE,oPAAC;QACC,WAAW,IAAA,6IAAE,EACX,aACA,QAAQ,CAAC,QAAQ,EACjB,KAAK,CAAC,KAAK,EACX;QAEF,KAAK;QACL,UAAU,YAAY;QACrB,GAAG,KAAK;;YAER,yBACC,oPAAC;gBACC,WAAU;gBACV,OAAM;gBACN,MAAK;gBACL,SAAQ;;kCAER,oPAAC;wBACC,WAAU;wBACV,IAAG;wBACH,IAAG;wBACH,GAAE;wBACF,QAAO;wBACP,aAAY;;;;;;kCAEd,oPAAC;wBACC,WAAU;wBACV,MAAK;wBACL,GAAE;;;;;;;;;;;;YAIP;;;;;;;AAGP;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 365, "column": 0}, "map": {"version":3,"sources":["file:///Users/rhychaw/projects/oa/web-app/src/lib/judge0-api.ts"],"sourcesContent":["// Judge0 API integration for real code execution\n// Free tier: 1000 requests/day, 100 requests/minute\n\ninterface Judge0Submission {\n  language_id: number;\n  source_code: string;\n  stdin?: string;\n  expected_output?: string;\n}\n\ninterface Judge0Result {\n  stdout: string | null;\n  stderr: string | null;\n  compile_output: string | null;\n  message: string | null;\n  time: string;\n  memory: number;\n  status: {\n    id: number;\n    description: string;\n  };\n}\n\ninterface Judge0Response {\n  token: string;\n}\n\n// Language mapping to Judge0 language IDs\nexport const JUDGE0_LANGUAGES = {\n  javascript: 63,    // Node.js\n  typescript: 74,    // TypeScript\n  python: 71,        // Python 3\n  java: 62,          // Java\n  cpp: 54,           // C++ 17\n  c: 50,             // C\n  csharp: 51,        // C#\n  go: 60,            // Go\n  rust: 73,          // Rust\n  php: 68,           // PHP\n  ruby: 72,          // Ruby\n  swift: 83,         // Swift\n  kotlin: 78,        // Kotlin\n} as const;\n\nexport class Judge0API {\n  private baseUrl: string;\n  private apiKey: string | null;\n\n  constructor() {\n    // Using Judge0 RapidAPI (more reliable than free tier)\n    this.baseUrl = 'https://judge0-ce.p.rapidapi.com';\n    this.apiKey = process.env.NEXT_PUBLIC_RAPIDAPI_KEY || null;\n  }\n\n  async submitCode(\n    code: string,\n    language: string,\n    testCases: Array<{ input: string; expectedOutput: string }>\n  ): Promise<{\n    success: boolean;\n    results: Array<{\n      passed: boolean;\n      input: string;\n      expectedOutput: string;\n      actualOutput: string;\n      error?: string;\n      runtime?: number;\n      memory?: number;\n    }>;\n    error?: string;\n  }> {\n    try {\n      const languageId = JUDGE0_LANGUAGES[language as keyof typeof JUDGE0_LANGUAGES];\n      if (!languageId) {\n        throw new Error(`Unsupported language: ${language}`);\n      }\n\n      const results = [];\n      let allPassed = true;\n\n      // Execute each test case\n      for (const testCase of testCases) {\n        try {\n          const result = await this.executeTestCase(code, languageId, testCase.input);\n          \n          const passed = result.stdout?.trim() === testCase.expectedOutput.trim();\n          if (!passed) allPassed = false;\n\n          results.push({\n            passed,\n            input: testCase.input,\n            expectedOutput: testCase.expectedOutput,\n            actualOutput: result.stdout || '',\n            error: result.stderr || result.compile_output || result.message,\n            runtime: parseFloat(result.time) * 1000, // Convert to milliseconds\n            memory: result.memory,\n          });\n        } catch (error) {\n          allPassed = false;\n          results.push({\n            passed: false,\n            input: testCase.input,\n            expectedOutput: testCase.expectedOutput,\n            actualOutput: '',\n            error: error instanceof Error ? error.message : 'Unknown error',\n          });\n        }\n      }\n\n      return {\n        success: allPassed,\n        results,\n      };\n    } catch (error) {\n      return {\n        success: false,\n        results: [],\n        error: error instanceof Error ? error.message : 'Code execution failed',\n      };\n    }\n  }\n\n  private async executeTestCase(\n    code: string,\n    languageId: number,\n    input: string\n  ): Promise<Judge0Result> {\n    // Submit code for execution\n    const submission: Judge0Submission = {\n      language_id: languageId,\n      source_code: code,\n      stdin: input,\n    };\n\n    const submitResponse = await fetch(`${this.baseUrl}/submissions`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-RapidAPI-Key': this.apiKey || '',\n        'X-RapidAPI-Host': 'judge0-ce.p.rapidapi.com',\n      },\n      body: JSON.stringify(submission),\n    });\n\n    if (!submitResponse.ok) {\n      throw new Error(`Submission failed: ${submitResponse.statusText}`);\n    }\n\n    const { token }: Judge0Response = await submitResponse.json();\n\n    // Poll for result\n    return await this.pollResult(token);\n  }\n\n  private async pollResult(token: string, maxAttempts = 30): Promise<Judge0Result> {\n    for (let attempt = 0; attempt < maxAttempts; attempt++) {\n      await new Promise(resolve => setTimeout(resolve, 1000)); // Wait 1 second\n\n      const response = await fetch(`${this.baseUrl}/submissions/${token}`, {\n        headers: {\n          'X-RapidAPI-Key': this.apiKey || '',\n          'X-RapidAPI-Host': 'judge0-ce.p.rapidapi.com',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to get result: ${response.statusText}`);\n      }\n\n      const result: Judge0Result = await response.json();\n\n      // Check if execution is complete\n      if (result.status.id <= 2) {\n        // Still processing (1: In Queue, 2: Processing)\n        continue;\n      }\n\n      return result;\n    }\n\n    throw new Error('Code execution timeout');\n  }\n\n  // Get supported languages\n  async getLanguages(): Promise<Array<{ id: number; name: string }>> {\n    try {\n      const response = await fetch(`${this.baseUrl}/languages`, {\n        headers: {\n          'X-RapidAPI-Key': this.apiKey || '',\n          'X-RapidAPI-Host': 'judge0-ce.p.rapidapi.com',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to get languages: ${response.statusText}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error('Failed to fetch languages:', error);\n      return [];\n    }\n  }\n}\n\nexport const judge0API = new Judge0API();\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 512, "column": 0}, "map": {"version":3,"sources":["file:///Users/rhychaw/projects/oa/web-app/src/lib/api.ts"],"sourcesContent":["import type { \n  APIResponse, \n  PaginatedResponse, \n  Problem, \n  Submission, \n  AIRequest, \n  AIResponse,\n  ProblemFilters,\n  RunResult \n} from '../types';\nimport { judge0API } from './judge0-api';\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || '/api';\n\nclass APIError extends Error {\n  constructor(\n    message: string,\n    public status: number,\n    public code?: string\n  ) {\n    super(message);\n    this.name = 'APIError';\n  }\n}\n\nasync function handleResponse<T>(response: Response): Promise<T> {\n  if (!response.ok) {\n    const errorData = await response.json().catch(() => ({}));\n    throw new APIError(\n      errorData.message || `HTTP ${response.status}`,\n      response.status,\n      errorData.code\n    );\n  }\n  \n  return response.json();\n}\n\n// Problems API\nexport const problemsAPI = {\n  async getProblems(filters: ProblemFilters = {}): Promise<PaginatedResponse<Problem>> {\n    const params = new URLSearchParams();\n    \n    if (filters.difficulty) params.append('difficulty', filters.difficulty);\n    if (filters.tags?.length) params.append('tags', filters.tags.join(','));\n    if (filters.search) params.append('search', filters.search);\n    if (filters.page) params.append('page', filters.page.toString());\n    if (filters.limit) params.append('limit', filters.limit.toString());\n    \n    const response = await fetch(`${API_BASE_URL}/problems?${params}`);\n    return handleResponse<PaginatedResponse<Problem>>(response);\n  },\n  \n  async getProblem(slug: string): Promise<APIResponse<Problem>> {\n    const response = await fetch(`${API_BASE_URL}/problems/${slug}`);\n    return handleResponse<APIResponse<Problem>>(response);\n  },\n  \n  async getProblemTags(): Promise<APIResponse<string[]>> {\n    const response = await fetch(`${API_BASE_URL}/problems/tags`);\n    return handleResponse<APIResponse<string[]>>(response);\n  },\n};\n\n// Submissions API\nexport const submissionsAPI = {\n  async getSubmissions(problemId?: string): Promise<APIResponse<Submission[]>> {\n    const params = problemId ? `?problemId=${problemId}` : '';\n    const response = await fetch(`${API_BASE_URL}/submissions${params}`);\n    return handleResponse<APIResponse<Submission[]>>(response);\n  },\n  \n  async createSubmission(data: {\n    problemId: string;\n    code: string;\n    language: string;\n  }): Promise<APIResponse<Submission>> {\n    const response = await fetch(`${API_BASE_URL}/submissions`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n    return handleResponse<APIResponse<Submission>>(response);\n  },\n  \n  async getSubmission(id: string): Promise<APIResponse<Submission>> {\n    const response = await fetch(`${API_BASE_URL}/submissions/${id}`);\n    return handleResponse<APIResponse<Submission>>(response);\n  },\n};\n\n// Test Runner API with real code execution support\nexport const runnerAPI = {\n  async runTests(data: {\n    problemId: string;\n    code: string;\n    language: string;\n  }): Promise<APIResponse<RunResult>> {\n    // Check if we should use real code execution\n    const useRealExecution = process.env.NEXT_PUBLIC_USE_REAL_EXECUTION === 'true';\n    \n    if (useRealExecution) {\n      try {\n        // Get problem details to extract test cases\n        const problemResponse = await problemsAPI.getProblem(data.problemId);\n        if (!problemResponse.success || !problemResponse.data) {\n          throw new APIError('Failed to load problem details', 404);\n        }\n\n        const problem: Problem = problemResponse.data;\n        const testCases = problem.canonicalTestCases.map(tc => ({\n          input: tc.input,\n          expectedOutput: tc.expectedOutput,\n        }));\n\n        // Execute code using Judge0\n        const result = await judge0API.submitCode(\n          data.code,\n          data.language,\n          testCases\n        );\n\n        if (!result.success) {\n          throw new APIError(result.error || 'Code execution failed', 500);\n        }\n\n        // Convert Judge0 results to our format\n        const runResult: RunResult = {\n          success: result.results.every(r => r.passed),\n          output: result.results.map(r => \n            `Input: ${r.input}\\nExpected: ${r.expectedOutput}\\nActual: ${r.actualOutput}${r.error ? `\\nError: ${r.error}` : ''}`\n          ).join('\\n\\n'),\n          error: result.results.some(r => r.error) ? \n            result.results.find(r => r.error)?.error : undefined,\n          testResults: result.results.map((r, index) => ({\n            testCaseId: `test-${index + 1}`,\n            testCase: index + 1,\n            passed: r.passed,\n            input: r.input,\n            expectedOutput: r.expectedOutput,\n            actualOutput: r.actualOutput,\n            error: r.error,\n          })),\n          runtime: result.results.reduce((sum, r) => sum + (r.runtime || 0), 0),\n          memory: Math.max(...result.results.map(r => r.memory || 0)),\n        };\n\n        return { success: true, data: runResult };\n      } catch (error) {\n        console.error('Real code execution failed, falling back to mock:', error);\n        // Fall back to mock execution\n        return this.mockRunTests(data);\n      }\n    } else {\n      // Use mock execution for development\n      return this.mockRunTests(data);\n    }\n  },\n\n  // Mock execution for development\n  async mockRunTests(data: {\n    problemId: string;\n    code: string;\n    language: string;\n  }): Promise<APIResponse<RunResult>> {\n    const response = await fetch(`${API_BASE_URL}/run`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n    return handleResponse<APIResponse<RunResult>>(response);\n  },\n};\n\n// AI Helper API\nexport const aiAPI = {\n  async askQuestion(request: AIRequest): Promise<APIResponse<AIResponse>> {\n    const response = await fetch(`${API_BASE_URL}/ai/ask`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(request),\n    });\n    return handleResponse<APIResponse<AIResponse>>(response);\n  },\n  \n  async escalateRequest(problemId: string, credits: number): Promise<APIResponse<{ success: boolean; creditsRemaining: number }>> {\n    const response = await fetch(`${API_BASE_URL}/ai/escalate`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ problemId, credits }),\n    });\n    return handleResponse<APIResponse<{ success: boolean; creditsRemaining: number }>>(response);\n  },\n};\n\n// Auth API\nexport const authAPI = {\n  async getCurrentUser(): Promise<APIResponse<unknown>> {\n    const response = await fetch(`${API_BASE_URL}/auth/me`);\n    return handleResponse<APIResponse<unknown>>(response);\n  },\n  \n  async login(credentials: { email: string; password: string }): Promise<APIResponse<unknown>> {\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(credentials),\n    });\n    return handleResponse<APIResponse<unknown>>(response);\n  },\n  \n  async logout(): Promise<APIResponse<void>> {\n    const response = await fetch(`${API_BASE_URL}/auth/logout`, {\n      method: 'POST',\n    });\n    return handleResponse<APIResponse<void>>(response);\n  },\n};\n\nexport { APIError };\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 701, "column": 0}, "map": {"version":3,"sources":["file:///Users/rhychaw/projects/oa/web-app/src/lib/query-client.ts"],"sourcesContent":["// Query keys factory\nexport const queryKeys = {\n  problems: {\n    all: ['problems'] as const,\n    lists: () => [...queryKeys.problems.all, 'list'] as const,\n    list: (filters: unknown) => [...queryKeys.problems.lists(), filters] as const,\n    details: () => [...queryKeys.problems.all, 'detail'] as const,\n    detail: (slug: string) => [...queryKeys.problems.details(), slug] as const,\n    tags: () => [...queryKeys.problems.all, 'tags'] as const,\n  },\n  submissions: {\n    all: ['submissions'] as const,\n    lists: () => [...queryKeys.submissions.all, 'list'] as const,\n    list: (problemId?: string) => [...queryKeys.submissions.lists(), { problemId }] as const,\n    details: () => [...queryKeys.submissions.all, 'detail'] as const,\n    detail: (id: string) => [...queryKeys.submissions.details(), id] as const,\n  },\n  user: {\n    all: ['user'] as const,\n    profile: () => [...queryKeys.user.all, 'profile'] as const,\n  },\n} as const;\n"],"names":[],"mappings":"AAAA,qBAAqB;;;;;AACd,MAAM,YAAY;IACvB,UAAU;QACR,KAAK;YAAC;SAAW;QACjB,OAAO,IAAM;mBAAI,UAAU,QAAQ,CAAC,GAAG;gBAAE;aAAO;QAChD,MAAM,CAAC,UAAqB;mBAAI,UAAU,QAAQ,CAAC,KAAK;gBAAI;aAAQ;QACpE,SAAS,IAAM;mBAAI,UAAU,QAAQ,CAAC,GAAG;gBAAE;aAAS;QACpD,QAAQ,CAAC,OAAiB;mBAAI,UAAU,QAAQ,CAAC,OAAO;gBAAI;aAAK;QACjE,MAAM,IAAM;mBAAI,UAAU,QAAQ,CAAC,GAAG;gBAAE;aAAO;IACjD;IACA,aAAa;QACX,KAAK;YAAC;SAAc;QACpB,OAAO,IAAM;mBAAI,UAAU,WAAW,CAAC,GAAG;gBAAE;aAAO;QACnD,MAAM,CAAC,YAAuB;mBAAI,UAAU,WAAW,CAAC,KAAK;gBAAI;oBAAE;gBAAU;aAAE;QAC/E,SAAS,IAAM;mBAAI,UAAU,WAAW,CAAC,GAAG;gBAAE;aAAS;QACvD,QAAQ,CAAC,KAAe;mBAAI,UAAU,WAAW,CAAC,OAAO;gBAAI;aAAG;IAClE;IACA,MAAM;QACJ,KAAK;YAAC;SAAO;QACb,SAAS,IAAM;mBAAI,UAAU,IAAI,CAAC,GAAG;gBAAE;aAAU;IACnD;AACF","debugId":null}},
    {"offset": {"line": 769, "column": 0}, "map": {"version":3,"sources":["file:///Users/rhychaw/projects/oa/web-app/src/app/problems/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { Search, ChevronLeft, ChevronRight } from 'lucide-react';\nimport { ProblemCard } from '../../components/ui/problem-card';\nimport { Button } from '../../components/ui/button';\nimport { problemsAPI } from '../../lib/api';\nimport { queryKeys } from '../../lib/query-client';\nimport type { ProblemFilters } from '../../types';\n\nconst difficulties = ['all', 'easy', 'medium', 'hard'] as const;\n\nexport default function ProblemsPage() {\n  const [filters, setFilters] = useState<ProblemFilters>({\n    page: 1,\n    limit: 12,\n  });\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedDifficulty, setSelectedDifficulty] = useState<string>('all');\n  const [selectedTags, setSelectedTags] = useState<string[]>([]);\n\n  const { data: problemsData, isLoading, error } = useQuery({\n    queryKey: queryKeys.problems.list(filters),\n    queryFn: () => problemsAPI.getProblems(filters),\n  });\n\n  const { data: availableTags } = useQuery({\n    queryKey: queryKeys.problems.tags(),\n    queryFn: () => problemsAPI.getProblemTags(),\n  });\n\n  const handleSearch = (query: string) => {\n    setSearchQuery(query);\n    setFilters(prev => ({\n      ...prev,\n      search: query || undefined,\n      page: 1,\n    }));\n  };\n\n  const handleDifficultyChange = (difficulty: string) => {\n    setSelectedDifficulty(difficulty);\n    setFilters(prev => ({\n      ...prev,\n      difficulty: difficulty === 'all' ? undefined : difficulty,\n      page: 1,\n    }));\n  };\n\n  const handleTagToggle = (tag: string) => {\n    const newTags = selectedTags.includes(tag)\n      ? selectedTags.filter(t => t !== tag)\n      : [...selectedTags, tag];\n    \n    setSelectedTags(newTags);\n    setFilters(prev => ({\n      ...prev,\n      tags: newTags.length > 0 ? newTags : undefined,\n      page: 1,\n    }));\n  };\n\n  const handlePageChange = (page: number) => {\n    setFilters(prev => ({ ...prev, page }));\n  };\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Error Loading Problems</h2>\n          <p className=\"text-gray-600 mb-4\">There was an error loading the problems. Please try again.</p>\n          <Button onClick={() => window.location.reload()}>\n            Retry\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-slate-900\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-slate-900 dark:text-slate-100 mb-2\">Coding Problems</h1>\n          <p className=\"text-slate-700 dark:text-slate-300\">\n            Practice coding with our curated collection of algorithmic problems\n          </p>\n        </div>\n\n        {/* Filters */}\n        <div className=\"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6 mb-8\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n            {/* Search */}\n            <div>\n              <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2\">\n                Search Problems\n              </label>\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search by title or description...\"\n                  value={searchQuery}\n                  onChange={(e) => handleSearch(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-900 dark:text-slate-100 placeholder-slate-500 dark:placeholder-slate-400 bg-white dark:bg-slate-700\"\n                />\n              </div>\n            </div>\n\n            {/* Difficulty Filter */}\n            <div>\n              <label className=\"block text-sm font-medium text-slate-700 mb-2\">\n                Difficulty\n              </label>\n              <select\n                value={selectedDifficulty}\n                onChange={(e) => handleDifficultyChange(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-900\"\n              >\n                {difficulties.map((diff) => (\n                  <option key={diff} value={diff}>\n                    {diff === 'all' ? 'All Difficulties' : diff.charAt(0).toUpperCase() + diff.slice(1)}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Tags Filter */}\n            <div>\n              <label className=\"block text-sm font-medium text-slate-700 mb-2\">\n                Tags\n              </label>\n              <div className=\"flex flex-wrap gap-2\">\n                {availableTags?.data?.slice(0, 8).map((tag) => (\n                  <button\n                    key={tag}\n                    onClick={() => handleTagToggle(tag)}\n                    className={`px-3 py-1 text-xs rounded-full border transition-colors ${\n                      selectedTags.includes(tag)\n                        ? 'bg-blue-500 text-white border-blue-500'\n                        : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\n                    }`}\n                  >\n                    {tag}\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Problems Grid */}\n        {isLoading ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {Array.from({ length: 6 }).map((_, i) => (\n              <div key={i} className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse\">\n                <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-3\"></div>\n                <div className=\"h-3 bg-gray-200 rounded w-1/2 mb-4\"></div>\n                <div className=\"h-3 bg-gray-200 rounded w-full mb-2\"></div>\n                <div className=\"h-3 bg-gray-200 rounded w-2/3 mb-4\"></div>\n                <div className=\"flex gap-2\">\n                  <div className=\"h-6 bg-gray-200 rounded w-16\"></div>\n                  <div className=\"h-6 bg-gray-200 rounded w-20\"></div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\n              {problemsData?.data?.map((problem) => (\n                <ProblemCard key={problem.id} problem={problem} />\n              ))}\n            </div>\n\n            {/* Pagination */}\n            {problemsData?.pagination && problemsData.pagination.totalPages > 1 && (\n              <div className=\"flex items-center justify-between bg-white px-4 py-3 border border-gray-200 rounded-lg\">\n                <div className=\"flex items-center text-sm text-gray-700\">\n                  Showing{' '}\n                  <span className=\"font-medium\">\n                    {(problemsData.pagination.page - 1) * problemsData.pagination.limit + 1}\n                  </span>{' '}\n                  to{' '}\n                  <span className=\"font-medium\">\n                    {Math.min(\n                      problemsData.pagination.page * problemsData.pagination.limit,\n                      problemsData.pagination.total\n                    )}\n                  </span>{' '}\n                  of{' '}\n                  <span className=\"font-medium\">{problemsData.pagination.total}</span>{' '}\n                  results\n                </div>\n\n                <div className=\"flex items-center space-x-2\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handlePageChange(problemsData.pagination.page - 1)}\n                    disabled={problemsData.pagination.page === 1}\n                  >\n                    <ChevronLeft className=\"w-4 h-4 mr-1\" />\n                    Previous\n                  </Button>\n\n                  <div className=\"flex items-center space-x-1\">\n                    {Array.from({ length: Math.min(5, problemsData.pagination.totalPages) }, (_, i) => {\n                      const page = i + 1;\n                      return (\n                        <button\n                          key={page}\n                          onClick={() => handlePageChange(page)}\n                          className={`px-3 py-1 text-sm rounded ${\n                            page === problemsData.pagination.page\n                              ? 'bg-blue-500 text-white'\n                              : 'text-gray-700 hover:bg-gray-100'\n                          }`}\n                        >\n                          {page}\n                        </button>\n                      );\n                    })}\n                  </div>\n\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handlePageChange(problemsData.pagination.page + 1)}\n                    disabled={problemsData.pagination.page === problemsData.pagination.totalPages}\n                  >\n                    Next\n                    <ChevronRight className=\"w-4 h-4 ml-1\" />\n                  </Button>\n                </div>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}